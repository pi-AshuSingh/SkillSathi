 # Backfill Geocodes

 This script helps backfill missing geocode fields for Job and Company documents using Google Maps Geocoding API.

 Usage (safe):

 - Dry run (no DB updates):
   node backfill_geocodes.js --dry-run

 - Real run with batch size and pause (in ms):
   node backfill_geocodes.js --batch=50 --pause=500

 Requirements:

 - Set MONGO_URI in your environment.
 - Set GOOGLE_MAPS_KEY in your environment for real runs.
 - Recommended to run on a small subset first (use --batch) and monitor API usage/quota.
 - The script pauses between requests to avoid hitting rate limits. Increase --pause for safety.

 Notes:

 - The script updates Job and Company documents with the following fields:

   - locationCoords: [lat, lng]
   - geoLocation: { type: 'Point', coordinates: [lng, lat] }
   - geocodedAt, geocodeProvider, geocodeRaw

 - If you need to restrict which records are processed, modify filter in the script.
